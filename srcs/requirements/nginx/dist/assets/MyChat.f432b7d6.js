import{i as k,f as fe,l as w,O as wt,aj as Ke,s as kt,ah as Je,A as W,n as zt,p as me,t as he,am as qt,v as Ne,aG as Ye,af as Tt,H as Mt,an as Ot,ao as ft,aH as Et,ap as Ht,h as p,aq as vt,W as Pt,X as At,aI as Bt,ar as Dt,aJ as Rt,aK as Lt,aL as Ge,aM as Nt,al as Wt,aN as $t,E as Qt,aO as Vt,aP as jt,k as mt,ab as It,aQ as Ft,N as Ut,aR as Kt,aS as Me,Y as Jt,Z as Yt,aT as Xe,K as ht,M as D,aU as Gt,x as gt,y as Oe,z as Xt,m as Zt,o as V,c as Z,w as c,aV as je,aW as Ie,a as r,aC as ce,aX as j,d as Y,a9 as Se,aY as Fe,a4 as L,aZ as We,a5 as Ce,_ as ea,az as ta,$ as pe,ay as aa,a1 as Ee,e as J,a0 as ye,a8 as Ze,aa as la,a_ as na,R as oa}from"./index.dfe8dbd2.js";import{e as $e,f as ia,Q as ra,c as sa,a as He,b as Pe,d as ua}from"./QLayout.bee7a0fb.js";import{d as ca,e as _e,T as et,b as Ae,Q as ae,a as X,c as da}from"./QList.a69f75ff.js";import{u as fa}from"./use-quasar.6bfedbf2.js";import{l as va}from"./index.9bf75406.js";import{C as U}from"./ClosePopup.5691a751.js";const ma=k("div",{class:"q-space"});var tt=fe({name:"QSpace",setup(){return()=>ma}});const ha={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function ga({showing:e,avoidEmit:a,configureAnchorEl:t}){const{props:l,proxy:i,emit:v}=he(),o=w(null);let n=null;function h(s){return o.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const g={};t===void 0&&(Object.assign(g,{hide(s){i.hide(s)},toggle(s){i.toggle(s),s.qAnchorHandled=!0},toggleKey(s){wt(s,13)===!0&&g.toggle(s)},contextClick(s){i.hide(s),Ke(s),kt(()=>{i.show(s),s.qAnchorHandled=!0})},prevent:Ke,mobileTouch(s){if(g.mobileCleanup(s),h(s)!==!0)return;i.hide(s),o.value.classList.add("non-selectable");const y=s.target;Je(g,"anchor",[[y,"touchmove","mobileCleanup","passive"],[y,"touchend","mobileCleanup","passive"],[y,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),n=setTimeout(()=>{n=null,i.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){o.value.classList.remove("non-selectable"),n!==null&&(clearTimeout(n),n=null),e.value===!0&&s!==void 0&&ca()}}),t=function(s=l.contextMenu){if(l.noParentEvent===!0||o.value===null)return;let y;s===!0?i.$q.platform.is.mobile===!0?y=[[o.value,"touchstart","mobileTouch","passive"]]:y=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:y=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],Je(g,"anchor",y)});function d(){qt(g,"anchor")}function x(s){for(o.value=s;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;t()}function S(){if(l.target===!1||l.target===""||i.$el.parentNode===null)o.value=null;else if(l.target===!0)x(i.$el.parentNode);else{let s=l.target;if(typeof l.target=="string")try{s=document.querySelector(l.target)}catch{s=void 0}s!=null?(o.value=s.$el||s,t()):(o.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return W(()=>l.contextMenu,s=>{o.value!==null&&(d(),t(s))}),W(()=>l.target,()=>{o.value!==null&&d(),S()}),W(()=>l.noParentEvent,s=>{o.value!==null&&(s===!0?d():t())}),zt(()=>{S(),a!==!0&&l.modelValue===!0&&o.value===null&&v("update:modelValue",!1)}),me(()=>{n!==null&&clearTimeout(n),d()}),{anchorEl:o,canShow:h,anchorEvents:g}}function ba(e,a){const t=w(null);let l;function i(n,h){const g=`${h!==void 0?"add":"remove"}EventListener`,d=h!==void 0?h:l;n!==window&&n[g]("scroll",d,Ne.passive),window[g]("scroll",d,Ne.passive),l=h}function v(){t.value!==null&&(i(t.value),t.value=null)}const o=W(()=>e.noParentEvent,()=>{t.value!==null&&(v(),a())});return me(o),{localScrollTarget:t,unconfigureScrollTarget:v,changeScrollEvent:i}}const{notPassiveCapture:xe}=Ne,oe=[];function we(e){const a=e.target;if(a===void 0||a.nodeType===8||a.classList.contains("no-pointer-events")===!0)return;let t=Ye.length-1;for(;t>=0;){const l=Ye[t].$;if(l.type.name==="QTooltip"){t--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;t--}for(let l=oe.length-1;l>=0;l--){const i=oe[l];if((i.anchorEl.value===null||i.anchorEl.value.contains(a)===!1)&&(a===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(a)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function pa(e){oe.push(e),oe.length===1&&(document.addEventListener("mousedown",we,xe),document.addEventListener("touchstart",we,xe))}function at(e){const a=oe.findIndex(t=>t===e);a>-1&&(oe.splice(a,1),oe.length===0&&(document.removeEventListener("mousedown",we,xe),document.removeEventListener("touchstart",we,xe)))}let lt,nt;function ot(e){const a=e.split(" ");return a.length!==2?!1:["top","center","bottom"].includes(a[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(a[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ya(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Qe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Qe[`${e}#ltr`]=e,Qe[`${e}#rtl`]=e});function it(e,a){const t=e.split(" ");return{vertical:t[0],horizontal:Qe[`${t[1]}#${a===!0?"rtl":"ltr"}`]}}function _a(e,a){let{top:t,left:l,right:i,bottom:v,width:o,height:n}=e.getBoundingClientRect();return a!==void 0&&(t-=a[1],l-=a[0],v+=a[1],i+=a[0],o+=a[0],n+=a[1]),{top:t,bottom:v,height:n,left:l,right:i,width:o,middle:l+(i-l)/2,center:t+(v-t)/2}}function Ca(e,a,t){let{top:l,left:i}=e.getBoundingClientRect();return l+=a.top,i+=a.left,t!==void 0&&(l+=t[1],i+=t[0]),{top:l,bottom:l+1,height:1,left:i,right:i+1,width:1,middle:i,center:l}}function Sa(e,a){return{top:0,center:a/2,bottom:a,left:0,middle:e/2,right:e}}function rt(e,a,t,l){return{top:e[t.vertical]-a[l.vertical],left:e[t.horizontal]-a[l.horizontal]}}function bt(e,a=0){if(e.targetEl===null||e.anchorEl===null||a>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{bt(e,a+1)},10);return}const{targetEl:t,offset:l,anchorEl:i,anchorOrigin:v,selfOrigin:o,absoluteOffset:n,fit:h,cover:g,maxHeight:d,maxWidth:x}=e;if(Tt.is.ios===!0&&window.visualViewport!==void 0){const q=document.body.style,{offsetLeft:H,offsetTop:N}=window.visualViewport;H!==lt&&(q.setProperty("--q-pe-left",H+"px"),lt=H),N!==nt&&(q.setProperty("--q-pe-top",N+"px"),nt=N)}const{scrollLeft:S,scrollTop:s}=t,y=n===void 0?_a(i,g===!0?[0,0]:l):Ca(i,n,l);Object.assign(t.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:x||"100vw",maxHeight:d||"100vh",visibility:"visible"});const{offsetWidth:T,offsetHeight:A}=t,{elWidth:I,elHeight:F}=h===!0||g===!0?{elWidth:Math.max(y.width,T),elHeight:g===!0?Math.max(y.height,A):A}:{elWidth:T,elHeight:A};let M={maxWidth:x,maxHeight:d};(h===!0||g===!0)&&(M.minWidth=y.width+"px",g===!0&&(M.minHeight=y.height+"px")),Object.assign(t.style,M);const R=Sa(I,F);let f=rt(y,R,v,o);if(n===void 0||l===void 0)Be(f,y,R,v,o);else{const{top:q,left:H}=f;Be(f,y,R,v,o);let N=!1;if(f.top!==q){N=!0;const $=2*l[1];y.center=y.top-=$,y.bottom-=$+2}if(f.left!==H){N=!0;const $=2*l[0];y.middle=y.left-=$,y.right-=$+2}N===!0&&(f=rt(y,R,v,o),Be(f,y,R,v,o))}M={top:f.top+"px",left:f.left+"px"},f.maxHeight!==void 0&&(M.maxHeight=f.maxHeight+"px",y.height>f.maxHeight&&(M.minHeight=M.maxHeight)),f.maxWidth!==void 0&&(M.maxWidth=f.maxWidth+"px",y.width>f.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(t.style,M),t.scrollTop!==s&&(t.scrollTop=s),t.scrollLeft!==S&&(t.scrollLeft=S)}function Be(e,a,t,l,i){const v=t.bottom,o=t.right,n=Mt(),h=window.innerHeight-n,g=document.body.clientWidth;if(e.top<0||e.top+v>h)if(i.vertical==="center")e.top=a[l.vertical]>h/2?Math.max(0,h-v):0,e.maxHeight=Math.min(v,h);else if(a[l.vertical]>h/2){const d=Math.min(h,l.vertical==="center"?a.center:l.vertical===i.vertical?a.bottom:a.top);e.maxHeight=Math.min(v,d),e.top=Math.max(0,d-v)}else e.top=Math.max(0,l.vertical==="center"?a.center:l.vertical===i.vertical?a.top:a.bottom),e.maxHeight=Math.min(v,h-e.top);if(e.left<0||e.left+o>g)if(e.maxWidth=Math.min(o,g),i.horizontal==="middle")e.left=a[l.horizontal]>g/2?Math.max(0,g-o):0;else if(a[l.horizontal]>g/2){const d=Math.min(g,l.horizontal==="middle"?a.middle:l.horizontal===i.horizontal?a.right:a.left);e.maxWidth=Math.min(o,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?a.middle:l.horizontal===i.horizontal?a.left:a.right),e.maxWidth=Math.min(o,g-e.left)}var st=fe({name:"QMenu",inheritAttrs:!1,props:{...ha,...Ot,...ft,...Et,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ot},self:{type:String,validator:ot},offset:{type:Array,validator:ya},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ht,"click","escapeKey"],setup(e,{slots:a,emit:t,attrs:l}){let i=null,v,o,n;const h=he(),{proxy:g}=h,{$q:d}=g,x=w(null),S=w(!1),s=p(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),y=vt(e,d),{registerTick:T,removeTick:A}=Pt(),{registerTimeout:I}=At(),{transitionProps:F,transitionStyle:M}=Bt(e),{localScrollTarget:R,changeScrollEvent:f,unconfigureScrollTarget:q}=ba(e,be),{anchorEl:H,canShow:N}=ga({showing:S}),{hide:$}=Dt({showing:S,canShow:N,handleShow:K,handleHide:se,hideOnRouteChange:s,processOnMount:!0}),{showPortal:ie,hidePortal:Q,renderPortal:b}=Rt(h,x,Ct,"menu"),P={anchorEl:H,innerRef:x,onClickOutside(C){if(e.persistent!==!0&&S.value===!0)return $(C),(C.type==="touchstart"||C.target.classList.contains("q-dialog__backdrop"))&&Ut(C),!0}},G=p(()=>it(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),ke=p(()=>e.cover===!0?G.value:it(e.self||"top start",d.lang.rtl)),re=p(()=>(e.square===!0?" q-menu--square":"")+(y.value===!0?" q-menu--dark q-dark":"")),u=p(()=>e.autoClose===!0?{onClick:ze}:{}),_=p(()=>S.value===!0&&e.persistent!==!0);W(_,C=>{C===!0?(Lt(qe),pa(P)):(Ge(qe),at(P))});function z(){Ft(()=>{let C=x.value;C&&C.contains(document.activeElement)!==!0&&(C=C.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||C.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||C.querySelector("[autofocus], [data-autofocus]")||C,C.focus({preventScroll:!0}))})}function K(C){if(i=e.noRefocus===!1?document.activeElement:null,Nt(Ue),ie(),be(),v=void 0,C!==void 0&&(e.touchPosition||e.contextMenu)){const Te=Wt(C);if(Te.left!==void 0){const{top:St,left:xt}=H.value.getBoundingClientRect();v={left:Te.left-xt,top:Te.top-St}}}o===void 0&&(o=W(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,ve)),e.noFocus!==!0&&document.activeElement.blur(),T(()=>{ve(),e.noFocus!==!0&&z()}),I(()=>{d.platform.is.ios===!0&&(n=e.autoClose,x.value.click()),ve(),ie(!0),t("show",C)},e.transitionDuration)}function se(C){A(),Q(),ge(!0),i!==null&&(C===void 0||C.qClickOutside!==!0)&&(((C&&C.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),I(()=>{Q(!0),t("hide",C)},e.transitionDuration)}function ge(C){v=void 0,o!==void 0&&(o(),o=void 0),(C===!0||S.value===!0)&&($t(Ue),q(),at(P),Ge(qe)),C!==!0&&(i=null)}function be(){(H.value!==null||e.scrollTarget!==void 0)&&(R.value=Qt(H.value,e.scrollTarget),f(R.value,ve))}function ze(C){n!==!0?(Vt(g,C),t("click",C)):n=!1}function Ue(C){_.value===!0&&e.noFocus!==!0&&jt(x.value,C.target)!==!0&&z()}function qe(C){t("escapeKey"),$(C)}function ve(){bt({targetEl:x.value,offset:e.offset,anchorEl:H.value,anchorOrigin:G.value,selfOrigin:ke.value,absoluteOffset:v,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ct(){return k(It,F.value,()=>S.value===!0?k("div",{role:"menu",...l,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+re.value,l.class],style:[l.style,M.value],...u.value},mt(a.default)):null)}return me(ge),Object.assign(g,{focus:z,updatePosition:ve}),b}}),xa=fe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:a}){const t=p(()=>parseInt(e.lines,10)),l=p(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(t.value===1?" ellipsis":"")),i=p(()=>e.lines!==void 0&&t.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t.value}:null);return()=>k("div",{style:i.value,class:l.value},mt(a.default))}});const ut=["vertical","horizontal"],De={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},ct={prevent:!0,mouse:!0,mouseAllDir:!0},dt=e=>e>=250?50:Math.ceil(e/5);var wa=fe({name:"QScrollArea",props:{...ft,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:a,emit:t}){const l=w(!1),i=w(!1),v=w(!1),o={vertical:w(0),horizontal:w(0)},n={vertical:{ref:w(null),position:w(0),size:w(0)},horizontal:{ref:w(null),position:w(0),size:w(0)}},{proxy:h}=he(),g=vt(e,h.$q);let d=null,x;const S=w(null),s=p(()=>"q-scrollarea"+(g.value===!0?" q-scrollarea--dark":""));n.vertical.percentage=p(()=>{const u=n.vertical.size.value-o.vertical.value;if(u<=0)return 0;const _=_e(n.vertical.position.value/u,0,1);return Math.round(_*1e4)/1e4}),n.vertical.thumbHidden=p(()=>(e.visible===null?v.value:e.visible)!==!0&&l.value===!1&&i.value===!1||n.vertical.size.value<=o.vertical.value+1),n.vertical.thumbStart=p(()=>n.vertical.percentage.value*(o.vertical.value-n.vertical.thumbSize.value)),n.vertical.thumbSize=p(()=>Math.round(_e(o.vertical.value*o.vertical.value/n.vertical.size.value,dt(o.vertical.value),o.vertical.value))),n.vertical.style=p(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${n.vertical.thumbStart.value}px`,height:`${n.vertical.thumbSize.value}px`})),n.vertical.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.vertical.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),n.horizontal.percentage=p(()=>{const u=n.horizontal.size.value-o.horizontal.value;if(u<=0)return 0;const _=_e(Math.abs(n.horizontal.position.value)/u,0,1);return Math.round(_*1e4)/1e4}),n.horizontal.thumbHidden=p(()=>(e.visible===null?v.value:e.visible)!==!0&&l.value===!1&&i.value===!1||n.horizontal.size.value<=o.horizontal.value+1),n.horizontal.thumbStart=p(()=>n.horizontal.percentage.value*(o.horizontal.value-n.horizontal.thumbSize.value)),n.horizontal.thumbSize=p(()=>Math.round(_e(o.horizontal.value*o.horizontal.value/n.horizontal.size.value,dt(o.horizontal.value),o.horizontal.value))),n.horizontal.style=p(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[h.$q.lang.rtl===!0?"right":"left"]:`${n.horizontal.thumbStart.value}px`,width:`${n.horizontal.thumbSize.value}px`})),n.horizontal.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.horizontal.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const y=p(()=>n.vertical.thumbHidden.value===!0&&n.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),T=[[et,u=>{H(u,"vertical")},void 0,{vertical:!0,...ct}]],A=[[et,u=>{H(u,"horizontal")},void 0,{horizontal:!0,...ct}]];function I(){const u={};return ut.forEach(_=>{const z=n[_];u[_+"Position"]=z.position.value,u[_+"Percentage"]=z.percentage.value,u[_+"Size"]=z.size.value,u[_+"ContainerSize"]=o[_].value}),u}const F=Kt(()=>{const u=I();u.ref=h,t("scroll",u)},0);function M(u,_,z){if(ut.includes(u)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(u==="vertical"?Xe:Me)(S.value,_,z)}function R({height:u,width:_}){let z=!1;o.vertical.value!==u&&(o.vertical.value=u,z=!0),o.horizontal.value!==_&&(o.horizontal.value=_,z=!0),z===!0&&Q()}function f({position:u}){let _=!1;n.vertical.position.value!==u.top&&(n.vertical.position.value=u.top,_=!0),n.horizontal.position.value!==u.left&&(n.horizontal.position.value=u.left,_=!0),_===!0&&Q()}function q({height:u,width:_}){n.horizontal.size.value!==_&&(n.horizontal.size.value=_,Q()),n.vertical.size.value!==u&&(n.vertical.size.value=u,Q())}function H(u,_){const z=n[_];if(u.isFirst===!0){if(z.thumbHidden.value===!0)return;x=z.position.value,i.value=!0}else if(i.value!==!0)return;u.isFinal===!0&&(i.value=!1);const K=De[_],se=o[_].value,ge=(z.size.value-se)/(se-z.thumbSize.value),be=u.distance[K.dist],ze=x+(u.direction===K.dir?1:-1)*be*ge;b(ze,_)}function N(u,_){const z=n[_];if(z.thumbHidden.value!==!0){const K=u[De[_].offset];if(K<z.thumbStart.value||K>z.thumbStart.value+z.thumbSize.value){const se=K-z.thumbSize.value/2;b(se/o[_].value*z.size.value,_)}z.ref.value!==null&&z.ref.value.dispatchEvent(new MouseEvent(u.type,u))}}function $(u){N(u,"vertical")}function ie(u){N(u,"horizontal")}function Q(){l.value=!0,d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,l.value=!1},e.delay),e.onScroll!==void 0&&F()}function b(u,_){S.value[De[_].scroll]=u}let P=null;function G(){P!==null&&clearTimeout(P),P=setTimeout(()=>{P=null,v.value=!0},h.$q.platform.is.ios?50:0)}function ke(){P!==null&&(clearTimeout(P),P=null),v.value=!1}let re=null;return W(()=>h.$q.lang.rtl,u=>{S.value!==null&&Me(S.value,Math.abs(n.horizontal.position.value)*(u===!0?-1:1))}),Jt(()=>{re={top:n.vertical.position.value,left:n.horizontal.position.value}}),Yt(()=>{if(re===null)return;const u=S.value;u!==null&&(Me(u,re.left),Xe(u,re.top))}),me(F.cancel),Object.assign(h,{getScrollTarget:()=>S.value,getScroll:I,getScrollPosition:()=>({top:n.vertical.position.value,left:n.horizontal.position.value}),getScrollPercentage:()=>({top:n.vertical.percentage.value,left:n.horizontal.percentage.value}),setScrollPosition:M,setScrollPercentage(u,_,z){M(u,_*(n[u].size.value-o[u].value)*(u==="horizontal"&&h.$q.lang.rtl===!0?-1:1),z)}}),()=>k("div",{class:s.value,onMouseenter:G,onMouseleave:ke},[k("div",{ref:S,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[k("div",{class:"q-scrollarea__content absolute",style:y.value},ht(a.default,[k($e,{debounce:0,onResize:q})])),k(ia,{axis:"both",onScroll:f})]),k($e,{debounce:0,onResize:R}),k("div",{class:n.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:$}),k("div",{class:n.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:ie}),D(k("div",{ref:n.vertical.ref,class:n.vertical.thumbClass.value,style:n.vertical.style.value,"aria-hidden":"true"}),T),D(k("div",{ref:n.horizontal.ref,class:n.horizontal.thumbClass.value,style:n.horizontal.style.value,"aria-hidden":"true"}),A)])}}),ka=fe({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:a}){const t=p(()=>e.sent===!0?"sent":"received"),l=p(()=>`q-message-text-content q-message-text-content--${t.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),i=p(()=>`q-message-text q-message-text--${t.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),v=p(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),o=p(()=>e.size!==void 0?`col-${e.size}`:""),n=p(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function h(d){return a.stamp!==void 0?[d,k("div",{class:"q-message-stamp"},a.stamp())]:e.stamp?[d,k("div",{class:"q-message-stamp",[n.value.stamp]:e.stamp})]:[d]}function g(d,x){const S=x===!0?d.length>1?s=>s:s=>k("div",[s]):s=>k("div",{[n.value.msg]:s});return d.map((s,y)=>k("div",{key:y,class:i.value},[k("div",{class:l.value},h(S(s)))]))}return()=>{const d=[];a.avatar!==void 0?d.push(a.avatar()):e.avatar!==void 0&&d.push(k("img",{class:`q-message-avatar q-message-avatar--${t.value}`,src:e.avatar,"aria-hidden":"true"}));const x=[];a.name!==void 0?x.push(k("div",{class:`q-message-name q-message-name--${t.value}`},a.name())):e.name!==void 0&&x.push(k("div",{class:`q-message-name q-message-name--${t.value}`,[n.value.name]:e.name})),a.default!==void 0?x.push(g(Gt(a.default()),!0)):e.text!==void 0&&x.push(g(e.text)),d.push(k("div",{class:o.value},x));const S=[];return a.label!==void 0?S.push(k("div",{class:"q-message-label"},a.label())):e.label!==void 0&&S.push(k("div",{class:"q-message-label",[n.value.label]:e.label})),S.push(k("div",{class:v.value},d)),k("div",{class:`q-message q-message-${t.value}`},S)}}}),za=fe({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:a,emit:t}){const{proxy:{$q:l}}=he(),i=gt(Xt,Oe);if(i===Oe)return console.error("QFooter needs to be child of QLayout"),Oe;const v=w(parseInt(e.heightHint,10)),o=w(!0),n=w(Zt.value===!0||i.isContainer.value===!0?0:window.innerHeight),h=p(()=>e.reveal===!0||i.view.value.indexOf("F")>-1||l.platform.is.ios&&i.isContainer.value===!0),g=p(()=>i.isContainer.value===!0?i.containerHeight.value:n.value),d=p(()=>{if(e.modelValue!==!0)return 0;if(h.value===!0)return o.value===!0?v.value:0;const f=i.scroll.value.position+g.value+v.value-i.height.value;return f>0?f:0}),x=p(()=>e.modelValue!==!0||h.value===!0&&o.value!==!0),S=p(()=>e.modelValue===!0&&x.value===!0&&e.reveal===!0),s=p(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(x.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),y=p(()=>{const f=i.rows.value.bottom,q={};return f[0]==="l"&&i.left.space===!0&&(q[l.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),f[2]==="r"&&i.right.space===!0&&(q[l.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),q});function T(f,q){i.update("footer",f,q)}function A(f,q){f.value!==q&&(f.value=q)}function I({height:f}){A(v,f),T("size",f)}function F(){if(e.reveal!==!0)return;const{direction:f,position:q,inflectionPoint:H}=i.scroll.value;A(o,f==="up"||q-H<100||i.height.value-g.value-q-v.value<300)}function M(f){S.value===!0&&A(o,!0),t("focusin",f)}W(()=>e.modelValue,f=>{T("space",f),A(o,!0),i.animate()}),W(d,f=>{T("offset",f)}),W(()=>e.reveal,f=>{f===!1&&A(o,e.modelValue)}),W(o,f=>{i.animate(),t("reveal",f)}),W([v,i.scroll,i.height],F),W(()=>l.screen.height,f=>{i.isContainer.value!==!0&&A(n,f)});const R={};return i.instances.footer=R,e.modelValue===!0&&T("size",v.value),T("space",e.modelValue),T("offset",d.value),me(()=>{i.instances.footer===R&&(i.instances.footer=void 0,T("size",0),T("offset",0),T("space",!1))}),()=>{const f=ht(a.default,[k($e,{debounce:0,onResize:I})]);return e.elevated===!0&&f.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),k("footer",{class:s.value,style:y.value,onFocusin:M},f)}}});const qa=()=>!0;function Ta(e){const a={};return e.forEach(t=>{a[t]=qa}),a}function te(){const{emit:e,proxy:a}=he(),t=w(null);function l(){t.value.show()}function i(){t.value.hide()}function v(n){e("ok",n),i()}function o(){e("hide")}return Object.assign(a,{show:l,hide:i}),{dialogRef:t,onDialogHide:o,onDialogOK:v,onDialogCancel:i}}const pt=["ok","hide"];te.emits=pt;te.emitsObject=Ta(pt);const Ma=Y("div",{class:"text-h6"},"New Channel",-1),Oa=Y("div",{class:"text-h6"},"Password (optional)",-1),Re={__name:"MyDialog",props:{},emits:[...te.emits],setup(e){const a={nameChannel:"",passChannel:null},{dialogRef:t,onDialogHide:l,onDialogOK:i,onDialogCancel:v}=te();function o(){i(a)}function n(){v()}return(h,g)=>(V(),Z(Ie,{ref_key:"dialogRef",ref:t,onHide:je(l)},{default:c(()=>[r(ce,{class:"q-dialog-plugin"},{default:c(()=>[r(ce,{style:{"min-width":"350px"}},{default:c(()=>[r(j,null,{default:c(()=>[Ma]),_:1}),r(j,{class:"q-pt-none"},{default:c(()=>[D(Y("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=d=>a.nameChannel=d),autofocus:"",onKeyup:Se(o,["enter"]),class:"input"},null,544),[[We,a.nameChannel]])]),_:1}),r(j,null,{default:c(()=>[Oa]),_:1}),r(j,{class:"q-pt-none"},{default:c(()=>[D(Y("input",{type:"text","onUpdate:modelValue":g[1]||(g[1]=d=>a.passChannel=d),autofocus:"",onKeyup:Se(o,["enter"]),class:"input"},null,544),[[We,a.passChannel]])]),_:1}),r(Fe,{align:"right",class:"text-primary"},{default:c(()=>[D(r(L,{flat:"",label:"Cancel",onClick:n},null,512),[[U]]),D(r(L,{flat:"",onClick:o,label:"Confirm"},null,512),[[U]])]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Ea=Y("div",{class:"text-h6"},"Modify Message",-1),Ha=Y("div",{class:"text-h6"},"Delete Message",-1),Pa={__name:"SelfAvatarDialog",props:{},emits:[...te.emits],setup(e){const a={delete:!1,modifyMessage:""},{dialogRef:t,onDialogHide:l,onDialogOK:i,onDialogCancel:v}=te();function o(){i(a)}function n(){v()}function h(){a.delete=!0,i(a)}return(g,d)=>(V(),Z(Ie,{ref_key:"dialogRef",ref:t,onHide:je(l)},{default:c(()=>[r(ce,{style:{"min-width":"500px"},class:"q-dialog-plugin"},{default:c(()=>[r(ce,{style:{"min-width":"500px"}},{default:c(()=>[r(j,null,{default:c(()=>[Ea]),_:1}),r(j,{class:"q-pt-none"},{default:c(()=>[D(Y("input",{type:"text",style:{width:"100%"},"onUpdate:modelValue":d[0]||(d[0]=x=>a.modifyMessage=x),autofocus:"",onKeyup:Se(o,["enter"]),class:"input"},null,544),[[We,a.modifyMessage]])]),_:1}),r(j,null,{default:c(()=>[Ha]),_:1}),r(j,{class:"q-pt-none"},{default:c(()=>[D(r(L,{color:"red",label:"Delete Message",onClick:h},null,512),[[U]])]),_:1}),r(Fe,{align:"right",class:"text-primary"},{default:c(()=>[D(r(L,{flat:"",label:"Cancel",onClick:n},null,512),[[U]]),D(r(L,{flat:"",onClick:o,label:"Confirm"},null,512),[[U]])]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Aa={__name:"AvatarDialog",props:{selectedChannel:{type:Object,required:!0},user:{type:Object,required:!0},selectMessageContent:{type:Object,required:!0}},emits:[...te.emits],setup(e){const a={},t=e,{dialogRef:l,onDialogHide:i,onDialogOK:v,onDialogCancel:o}=te(),n=p(()=>(console.log("props",t.selectedChannel.owner,t.selectMessageContent.sender),t.selectedChannel.owner!=t.selectMessageContent.sender?!!(t.selectedChannel.admin.includes(t.user.value.id)||t.selectedChannel.owner==t.user.value.id):!1)),h=p(()=>t.selectedChannel.owner==t.user.value.id?!t.selectedChannel.admin.includes(t.selectMessageContent.sender):!1),g=p(()=>t.selectedChannel.owner==t.user.value.id?!!t.selectedChannel.admin.includes(t.selectMessageContent.sender):!1);function d(){v(a)}function x(){o()}function S(){a.value="ban",d()}function s(){a.value="promote",d()}function y(){a.value="unpromote",d()}return(T,A)=>(V(),Z(Ie,{ref_key:"dialogRef",ref:l,onHide:je(i)},{default:c(()=>[r(ce,{class:"q-dialog-plugin"},{default:c(()=>[r(ce,{style:{"min-width":"350px, margin: 30px"}},{default:c(()=>[r(j,{class:"q-mt-md q-mr-sm q-pt-none"},{default:c(()=>[D(r(L,{color:"red",label:"Block User",onClick:T.onBlock},null,8,["onClick"]),[[U]])]),_:1}),h.value?(V(),Z(j,{key:0,class:"q-mt-md q-mr-sm q-pt-none"},{default:c(()=>[D(r(L,{color:"green",label:"Promote User",onClick:s},null,512),[[U]])]),_:1})):Ce("",!0),n.value?(V(),Z(j,{key:1,class:"q-mt-md q-mr-sm q-pt-none"},{default:c(()=>[D(r(L,{color:"red",label:"Ban User",onClick:S},null,512),[[U]])]),_:1})):Ce("",!0),g.value?(V(),Z(j,{key:2,class:"q-mt-md q-mr-sm q-pt-none"},{default:c(()=>[D(r(L,{color:"red",label:"Unpromote User",onClick:y},null,512),[[U]])]),_:1})):Ce("",!0),r(Fe,{align:"right",class:"text-primary"},{default:c(()=>[D(r(L,{flat:"",label:"Cancel",onClick:x},null,512),[[U]])]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};let ne=w(),ue=w(),ee=w({}),m=w([]),B,E=w([]);w("");let le,O;async function Ba(e,a){switch(a){case"CREATE":de(e),m.value.push(e),m.value=m.value;break;case"PRIVATE":e.users=[];const t=e.channel_name.split("$");t[1]==ee.value.username?e.displayName=t[2]:e.displayName=t[1],de(e),m.value.push(e),m.value=m.value,O.emit("message",JSON.stringify({channel_name:e.channel_name}));break;case"MODIFY":let l=m.value[0];m.value.forEach(i=>{i.id==e.id&&(l=i)}),m.value[m.value.indexOf(l)]=e;break;case"DELETE":m.value.forEach(i=>{if(i.id==e.id){m.value.splice(m.value.indexOf(i),1),m.value=m.value,E.value=[];return}});break}}async function yt(e,a){if(!e){alert("BadInput");return}O.emit("channel",JSON.stringify({event:"CREATE",channel_name:e,password:a,private_groupe:!!a,private_message:!1})),O.emit("channel",JSON.stringify({event:"GET"}))}async function _t(e,a){if(!e){alert("BadInput");return}O.emit("event",JSON.stringify({channel_name:e,event:"JOIN",password:a}))}function Da(e,a){const t=B.id;if(e.receiver==t){switch(a){case"MODIFY":E.value.forEach(l=>{if(l.id==e.id){E.value.splice(E.value.indexOf(l),1);return}}),E.value=[...E.value,e];break;case"CREATE":E.value=[...E.value,e];break;case"DELETE":E.value.forEach(l=>{l.id==e.id&&E.value.splice(E.value.indexOf(l),1)});break;default:alert(e);return}E.value=E.value}}async function Le(e){return(await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("jwtToken")}`},credentials:"include"})).json()}async function Ve(e,a,t){let l=await fetch(e,{method:a,headers:{Authorization:`Bearer ${localStorage.getItem("jwtToken")}`,"Content-Type":"application/json"},credentials:"include",body:t||""});if(+l.headers.get("content-length")>0)return l.json()}async function Ra(){const e=window.location.hostname;if(ee.value=await Le(`http://${e}:3000/api/auth/profile`),O.emit("channel",JSON.stringify({event:"GET"})),ne.value){if(ue.value==="yes"){yt("private"+ne.value,"private");const a=JSON.stringify({frind_id:ne.value});await Ve(`http://${e}:3000/api/update/InvMess`,"POST",a),await Le(`http://${e}:3000/api/update/ResMess`)}else if(ue.value==="no"){let a=await Le(`http://${e}:3000/api/update/ResMess`);_t("private"+a.id,"private")}ne=w(null),ue=w(null)}}async function de(e){if(!e)return;const a=window.location.hostname,t=JSON.stringify({channel_name:e.channel_name});let l=await Ve(`http://${a}:3000/api/chat/users`,"POST",t);B.users=l,E.value=await Ve(`http://${a}:3000/api/chat/messages`,"POST",t)}async function La(e,a){switch(a){case"JOIN":for(let t=0;t<m.value.length;t++)if(m.value[t].id==e.id){m.value[t].members=e.members,de(e);return}m.value.push(e),de(e);break;case"LEFT":for(let t=0;t<m.value.length;t++)m.value[t].id==e.id&&(e.members.includes(ee.value.id)?m.value[t].members=e.members:(m.value.splice(t,1),E.value=[]));break;case"KICK":for(let t=0;t<m.value.length;t++)m.value[t].id==e.id&&(e.members.includes(ee.value.id)?m.value[t].members=e.members:(m.value.splice(t,1),E.value=[]));break;case"BAN":for(let t=0;t<m.value.length;t++)m.value[t].id==e.id&&(e.members.includes(ee.value.id)?m.value[t].members=e.members:(m.value.splice(t,1),E.value=[]));break;case"PROMOTE":for(let t=0;t<m.value.length;t++)m.value[t].id==e.id&&(m.value[t].admin=e.admin);break;case"UNPROMOTE":for(let t=0;t<m.value.length;t++)m.value[t].id==e.id&&(m.value[t].admin=e.admin);break}m.value=m.value}const Na={name:"WhatsappLayout",setup(){const e=ta();let a=e.query.frind_id,t=e.query.owner;const l=fa(),i=w(!1),v=w(""),o=w(""),n=w(0),h=w(Array(E.value.length).fill(!1));function g(b,P){h.value[b]=!h.value[b],le=E.value[b],P?f():q()}const d=p(()=>(B=m.value[n.value],de(B),a&&(t==="yes"||t==="no")&&(ne.value=a,ue.value=t,a=null,t=null),m.value[n.value]));async function x(){O.emit("event",JSON.stringify({username:Q(le.sender).pseudo.slice(0,-2),channel_name:B.channel_name,event:"BAN"}))}async function S(){O.emit("event",JSON.stringify({username:Q(le.sender).pseudo.slice(0,-2),channel_name:B.channel_name,event:"PROMOTE"}))}async function s(){O.emit("event",JSON.stringify({username:Q(le.sender).pseudo.slice(0,-2),channel_name:B.channel_name,event:"UNPROMOTE"}))}async function y(b){if(!b){alert("BadInput");return}console.log("modifyMessage"),O.emit("message",JSON.stringify({content:b,channel_name:B.channel_name,id:le.id}))}async function T(){console.log("deleteMessage"),O.emit("message",JSON.stringify({content:"",channel_name:B.channel_name,id:le.id}))}const A=p(()=>({height:l.screen.height-123+"px"}));function I(){i.value=!i.value}function F(b){n.value=b,B=m.value[n.value]}async function M(){!o.value||(O.emit("message",JSON.stringify({content:o.value,channel_name:m.value[n.value].channel_name,id:""})),o.value="")}function R(){l.dialog({component:Re,componentProps:{title:"New Channel",message:"Title",channel:"",password:"",prompt:{model:"",isValid:b=>b.length>2,type:"text"},cancel:!0,persistent:!0}}).onOk(b=>{yt(b.nameChannel,b.passChannel)})}function f(){l.dialog({component:Pa,componentProps:{title:"Message Option",message:"Title",prompt:{model:"",isValid:b=>b.length>2,type:"text"},cancel:!0,persistent:!0}}).onOk(b=>{b.delete?T():b.modifyMessage!=""&&y(b.modifyMessage)})}function q(){l.dialog({component:Aa,componentProps:{title:"Message Option",message:"Title",prompt:{model:"",isValid:b=>b.length>2,type:"text"},cancel:!0,persistent:!0,selectedChannel:B,user:ee,selectMessageContent:le}}).onOk(b=>{b.value=="promote"?S():b.value=="unpromote"?s():b.value=="ban"&&(console.log("ban"),x())})}function H(){ee.value.id==m.value[n.value].admin[0]?O.emit("channel",JSON.stringify({event:"DELETE",id:m.value[n.value].id})):O.emit("event",JSON.stringify({channel_name:B.channel_name,event:"LEFT"}))}async function N(b,P){if(!b){alert("BadInput");return}const G=m.value[n.value].id;O.emit("channel",JSON.stringify({id:G,event:"MODIFY",channel_name:b,password:P}))}function $(){l.dialog({component:Re,componentProps:{title:"Modify Channel",message:"Title",channel:"",password:"",prompt:{model:"",isValid:b=>b.length>2,type:"text"},cancel:!0,persistent:!0}}).onOk(b=>{N(b.nameChannel,b.passChannel)})}function ie(){l.dialog({component:Re,componentProps:{title:"Join Channel",message:"Title",channel:"",password:"",prompt:{model:"",isValid:b=>b.length>2,type:"text"},cancel:!0,persistent:!0}}).onOk(b=>{_t(b.nameChannel,b.passChannel)})}function Q(b){let P=B==null?void 0:B.users.find(G=>G.id===b);return P||{avatar:"avatardefault.jpg",pseudo:"banned",id:0}}return{leftDrawerOpen:i,search:v,message:o,messages:E,currentConversationIndex:n,selectedChannel:B,channels:m,newChannel:R,channelSearch:ie,channelModify:$,leaveChannel:H,postMessage:M,currentConversation:d,currentUser:Q,setCurrentConversation:F,style:A,user:ee,route:e,frind_id:a,owner:t,private_frind_id:ne,private_owner:ue,toggleLeftDrawer:I,showMenu:h,toggleMenu:g,ban:x,promote:S,unpromote:s}},components:{},data(){return{bus:gt("bus"),baseUrl:"http://"+window.location.hostname+":3000/",localIp:window.location.hostname}},methods:{async checkToken(){const e=localStorage.getItem("jwtToken");if(e)try{(await(await fetch(`http://${this.localIp}:3000/api/auth/checkJWT`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include"})).json()).success?console.log("user validate!"):(console.log("Unvalidate user!"),this.$router.push("/"))}catch{console.log("Error with validating JWT!"),this.$router.push("/")}else console.log("User not connected!"),this.$router.push("/")},async WsConnect(){O=va(`http://${this.localIp}:3000/chat`,{extraHeaders:{cookies:localStorage.getItem("jwtToken")}})}},mounted(){this.checkToken(),this.WsConnect(),this.bus.emit("inChatSet"),de(m.value[0]),O.on("message",e=>{console.log("Message re\xE7u du serveur:",e),!(!e.data||e.status=="ok")&&(e.status=="ERROR"?alert(e.data):Da(e.data,e.status))}),O.on("channel",e=>{if(console.log("Channel re\xE7u du serveur:",e),!!e.data)if(e.status=="ERROR")alert(e.data);else if(e.status=="GET"){const a=e.data;for(let t=0;t<a.length;t++)O.emit("message",JSON.stringify({channel_name:a[t].channel_name}));m.value=a,B=m.value[0]}else Ba(e.data,e.status)}),O.on("event",e=>{console.log("Event re\xE7u du serveur:",e),e.data&&(e.status=="ERROR"?alert(e.data):La(e.data,e.status))}),Ra()},beforeUnmount(){O.disconnect()}},Wa={class:"q-subtitle-1 q-pl-md"},$a=Y("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo.svg"},null,-1);function Qa(e,a,t,l,i,v){return V(),pe("div",{class:"WAL position-relative bg",style:aa(l.style)},[r(ra,{view:"lHh Lpr lFf",class:"WAL__layout shadow-3 bg-grey-2",container:""},{default:c(()=>[r(sa,{elevated:""},{default:c(()=>[r(He,{class:"bg-grey-3 text-black"},{default:c(()=>[r(L,{round:"",flat:"",icon:"keyboard_arrow_left",class:"WAL__drawer-open q-mr-sm",onClick:l.toggleLeftDrawer},null,8,["onClick"]),l.currentConversation!=null?(V(),pe(Ee,{key:0},[r(L,{round:"",flat:""},{default:c(()=>[r(Pe,null,{default:c(()=>[J(ye(l.currentConversation.displayName.charAt(0).toUpperCase()),1)]),_:1})]),_:1}),Y("span",Wa,ye(l.currentConversation.displayName),1)],64)):Ce("",!0),r(tt),r(L,{round:"",flat:"",icon:"more_vert"},{default:c(()=>[r(st,{"auto-close":"",offset:[110,0]},{default:c(()=>[r(Ae,{style:{"min-width":"150px"}},{default:c(()=>[r(ae,{clickable:""},{default:c(()=>[r(X,{onClick:l.leaveChannel},{default:c(()=>[J("Leave Channel")]),_:1},8,["onClick"])]),_:1}),r(ae,{clickable:""},{default:c(()=>[r(X,{onClick:l.channelModify},{default:c(()=>[J("Modify Channel")]),_:1},8,["onClick"])]),_:1}),r(ae,{clickable:""},{default:c(()=>[r(X,null,{default:c(()=>[J("Block")]),_:1})]),_:1}),r(ae,{clickable:""},{default:c(()=>[r(X,null,{default:c(()=>[J("Silence")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),r(da,{modelValue:l.leftDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=o=>l.leftDrawerOpen=o),"show-if-above":"",bordered:"",breakpoint:690},{default:c(()=>[r(He,{class:"bg-grey-3"},{default:c(()=>[r(Pe,{class:"cursor-pointer"},{default:c(()=>[$a]),_:1}),r(tt),r(L,{round:"",flat:"",icon:"more_vert"},{default:c(()=>[r(st,{"auto-close":"",offset:[110,8]},{default:c(()=>[r(Ae,{style:{"min-width":"150px"}},{default:c(()=>[r(ae,{clickable:""},{default:c(()=>[r(X,{onClick:l.newChannel},{default:c(()=>[J("New Channel")]),_:1},8,["onClick"])]),_:1}),r(ae,{clickable:""},{default:c(()=>[r(X,{onClick:l.channelSearch},{default:c(()=>[J("Join Channel")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),r(L,{round:"",flat:"",icon:"close",class:"WAL__drawer-close",onClick:l.toggleLeftDrawer},null,8,["onClick"])]),_:1}),r(wa,{style:{height:"calc(100% - 100px)"}},{default:c(()=>[r(Ae,null,{default:c(()=>[(V(!0),pe(Ee,null,Ze(l.channels,(o,n)=>D((V(),Z(ae,{key:o.id,clickable:"",onClick:h=>l.setCurrentConversation(n)},{default:c(()=>[r(X,{avatar:""},{default:c(()=>[r(Pe,null,{default:c(()=>[J(ye(o.displayName.charAt(0)),1)]),_:2},1024)]),_:2},1024),r(X,null,{default:c(()=>[r(xa,{lines:"1"},{default:c(()=>[J(ye(o.displayName),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[oa]])),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(ua,{class:"bg-grey-2"},{default:c(()=>[(V(!0),pe(Ee,null,Ze(l.messages,(o,n)=>(V(),Z(ka,{key:n,name:l.currentUser(o.sender).pseudo,avatar:`${i.baseUrl}api/uploadAvatar/`+l.currentUser(o.sender).avatar,text:[o.content],sent:l.currentUser(o.sender).id===l.user.id,onClick:h=>l.toggleMenu(n,l.currentUser(o.sender).id===l.user.id)},null,8,["name","avatar","text","sent","onClick"]))),128))]),_:1}),r(za,null,{default:c(()=>[r(He,{class:"bg-grey-3 text-black row"},{default:c(()=>[r(la,{rounded:"",outlined:"",dense:"",class:"WAL__field col-grow q-mr-sm","bg-color":"white",modelValue:l.message,"onUpdate:modelValue":a[1]||(a[1]=o=>l.message=o),placeholder:"Type a message",onKeydown:Se(na(l.postMessage,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),_:1})]),_:1})]),_:1})],4)}var Ja=ea(Na,[["render",Qa]]);export{Ja as default};
