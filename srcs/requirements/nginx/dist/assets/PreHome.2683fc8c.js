import{_ as u,x as d,r as p,o as _,$ as h,d as t,a0 as g,a as n,w as a,a1 as m,e as r}from"./index.dfe8dbd2.js";const f={components:{},data(){return{message:"Welcome to T.R.I.S Pong.",bus:d("bus"),localIp:window.location.hostname}},methods:{redirectToLogin(){this.$router.push("/login")},redirectToSign(){this.$router.push("/inscription")},eraseToken(){localStorage.removeItem("jwtToken")},async logOutUser(){try{const e=localStorage.getItem("jwtToken");if(e){const i=await(await fetch(`http://${this.localIp}:3000/api/update/disable2fa`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include"})).json();this.bus.emit("inOffSet"),this.eraseToken(),console.log("User disconnect : Jwt deleted!")}}catch{console.log("error with disconnect User")}}},mounted(){this.logOutUser(),this.bus.on("logOut",this.logOutUser)}},T={class:"page-container"},k={class:"flex-container"},w={class:"button-container"};function v(e,c,i,b,l,o){const s=p("Button");return _(),h(m,null,[t("div",T,[t("h2",null,g(l.message),1)]),t("div",k,[t("div",w,[n(s,{onClick:o.redirectToLogin,class:"custom-button"},{default:a(()=>[r("Login")]),_:1},8,["onClick"]),n(s,{onClick:o.redirectToSign,class:"custom-button"},{default:a(()=>[r("Sign up")]),_:1},8,["onClick"])])])],64)}var S=u(f,[["render",v]]);export{S as default};
